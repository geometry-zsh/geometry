{"version":1,"ops":[{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1485966277,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3NjcwNDA3Mw==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276704073"},"message":"Do you mean that you configure `GEOMETRY_PROMPT_PREFIX` like so:\n\n    GEOMETRY_PROMPT_PREFIX=$'\\n'\n\nand it doesn't show up?","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1485966283,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDk0NTAyMTYyNA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"e7fe5ca3064811fa83d1716f18c44f503f56ce0e"},"timestamp":1485974688,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njc0MzYwOA==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276743608"},"message":"I mean that I configured it like that and it shows up like in the screenshot. I thought it was supposed to render the prompt on a new line, separate from the path/git information. Instead it displays the quoted code","files":null},{"type":3,"author":{"id":"89423e348cd99c0520db3eeca4306e5d61451472"},"timestamp":1485981342,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njc3NDE3Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276774172"},"message":"I'm having the same problem. I would like to have the path, python env, git info, etc on one line and the geometry symbol with the prompt on the next one.","files":null},{"type":3,"author":{"id":"89423e348cd99c0520db3eeca4306e5d61451472"},"timestamp":1485983496,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njc4MzU5MQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276783591"},"message":"I managed to configure the theme with the style I said before. I made a copy of the .zsh file and edited the line 67\n\nWas:\n\n```\nPROMPT=\"$GEOMETRY_PROMPT_PREFIX %${#PROMPT_SYMBOL}{%(?.$GEOMETRY_PROMPT.$GEOMETRY_EXIT_VALUE)%} %F{$GEOMETRY_COLOR_DIR}%3~%f \"\n```\n\nAnd I wrote:\n\n```\nNEWLINE=$'\\n'\n\nPROMPT=\"$GEOMETRY_PROMPT_PREFIX %F{$GEOMETRY_COLOR_DIR}%3~%f ${NEWLINE} %${#PROMPT_SYMBOL}{%(?.$GEOMETRY_PROMPT.$GEOMETRY_EXIT_VALUE)%} \"\n```\n\nResult:\n\n![screenshot_2017-02-01_17-09-09](https://cloud.githubusercontent.com/assets/13484197/22526327/3200f0ce-e8a1-11e6-9756-66f67cc0c91e.png)","files":null},{"type":3,"author":{"id":"e7fe5ca3064811fa83d1716f18c44f503f56ce0e"},"timestamp":1485984081,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njc4NjAyMw==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276786023"},"message":"Awesome! How about if I wanted to keep the right side on the same line as the path?","files":null},{"type":3,"author":{"id":"89423e348cd99c0520db3eeca4306e5d61451472"},"timestamp":1485984364,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njc4NzIyMg==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276787222"},"message":"I'm wondering the same :sweat_smile: I will experiment a little more and post my results","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486010245,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3Njg2NjQ5Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/100#issuecomment-276866492"},"message":"From my side configuring `PROMPT_PREFIX` with `$'\\n'` seems to work as expected. Be sure you are not quoting it this way: `\"$'\\n'\"`.\n\nWe are also working on a suffix configuration that would enable @SamuelM333 setup. We've also plans to make PROMPT more flexible on it's configuration. See https://github.com/frmendes/geometry/issues/51.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486583117,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3ODQzOTkxNA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-278439914"},"message":"It seems you have loading geometry twice. What's your zshrc/zplug configuration?","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486583134,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDk1NDQ0NjI0Nw=="},"added":["question"],"removed":[]},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1486635457,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3ODYwMTEyNQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-278601125"},"message":"I actually have a suggestion regarding this but I'm afraid I'm nitpicking. I have on my dotfiles `alias reload=\"source ~/.zshrc\"` to reload configs when I change them and that always sets me off because of the \"Error\". It always seems like I screwed up something. At the very least can we change it to \"Warning\" or equivalent?","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1486641635,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3ODYyMjQyMg==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-278622422"},"message":"Yes I agree. I haven't put much though on the \"Error:\" string.","files":null},{"type":3,"author":{"id":"20087f699d12bb7c064e9309d79344d6cad14e8d"},"timestamp":1486660710,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3ODcwOTUxMg==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-278709512"},"message":"My `.zshrc`\n\n```sh\nTERM=xterm-256color\n\n# shortcut to this dotfiles path is $ZSH\nexport ZSH=$HOME/.dotfiles\n\n# your project folder that we can `c [tab]` to\nexport PROJECTS=~/Documents/Development\n\n# Stash your environment variables in ~/.localrc. This means they'll stay out\n# of your main dotfiles repository (which may be public, like this one), but\n# you'll have access to them in your scripts.\nif [[ -a ~/.localrc ]]\nthen\n  source ~/.localrc\nfi\n\n# all of our zsh files\ntypeset -U config_files\nconfig_files=($ZSH/**/*.zsh)\n\n# load the path files\nfor file in ${(M)config_files:#*/path.zsh}\ndo\n  source $file\ndone\n\n# load everything but the path and completion files\nfor file in ${${config_files:#*/path.zsh}:#*/completion.zsh}\ndo\n  source $file\ndone\n\n# initialize autocomplete here, otherwise functions won't be loaded\nautoload -Uz compinit \u0026\u0026 compinit\n\n# load every completion after autocomplete loads\nfor file in ${(M)config_files:#*/completion.zsh}\ndo\n  source $file\ndone\n\nunset config_files\n\n[ -f ~/.fzf.zsh ] \u0026\u0026 source ~/.fzf.zsh\n```\n\nWhich sources `.localrc` \n```sh\nexport LSCOLORS=\"ExFxCxDxBxegedabaggcad\"\n\nautoload -U colors \u0026\u0026 colors\nautoload -U promptinit\n\n# Customize geometry\nGEOMETRY_COLOR_GIT_DIRTY=9\nGEOMETRY_COLOR_GIT_BRANCH=6\nGEOMETRY_COLOR_EXIT_VALUE=9\nGEOMETRY_COLOR_DIR=242\nGEOMETRY_SYMBOL_EXIT_VALUE=\"▲\"\nPROMPT_GEOMETRY_GIT_CONFLICTS=true\n```\n\nand all shell scripts from `.dotfiles` directory including `zplug.zsh`\n```sh\n#!/bin/zsh\nsource ~/.zplug/init.zsh\n\nhas_plugin() {\n  (( $+functions[zplug] )) || return 1\n  zplug check \"${1:?too few arguments}\"\n  return $status\n}\n\n# Remote plugins\nzplug \"glidenote/hub-zsh-completion\"\nzplug \"frmendes/geometry\"\nzplug \"zsh-users/zsh-completions\"\nzplug \"zsh-users/zsh-history-substring-search\"\n\nif ! zplug check --verbose; then\n  printf \"Install? [y/N]: \"\n  if read -q; then\n    echo; zplug install\n  else\n    echo\n  fi\nfi\n\n# Source plugins and add commands to $PATH\nzplug load # --verbose\n```","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1487013910,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3OTQ5NTA1Ng==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-279495056"},"message":"I didn't tried the whole config just the zplug part and it worked without issues. Can you provide a minimal config where the issue still reproduces?","files":null},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1487013916,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDk2MDE4MzkyNQ=="},"added":["can't reproduce"],"removed":[]},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1487013920,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDk2MDE4NDA0Nw=="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1487013920,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50OTYwMTg0MDUw"},"added":[],"removed":["question"]},{"type":3,"author":{"id":"20087f699d12bb7c064e9309d79344d6cad14e8d"},"timestamp":1487175815,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4MDA1ODc1Mg==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-280058752"},"message":"I couldn't figure out why it did it. I tried without loading any other files but zplug and it still wrote those warnings. I also tried only to load zplug + geometry without luck.\n\nI have changed the line for loading zplug plugins to\n\n```\nzplug load \u003e /dev/null\n```\n\nIt isn't fixing the issue, but this will prevent it from showing up in stdout.","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1487176226,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4MDA2MDg3OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-280060878"},"message":"```sh\n# load everything but the path and completion files\nfor file in ${${config_files:#*/path.zsh}:#*/completion.zsh}\ndo\n  source $file\ndone\n```\n\nAre you sure this isn't loading geometry again?","files":null},{"type":3,"author":{"id":"20087f699d12bb7c064e9309d79344d6cad14e8d"},"timestamp":1487177513,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4MDA2NzU5OA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-280067598"},"message":"Yeah I tried to comment out individual loops, and even `echo` the `$file`. It only loads `zplug.zsh` once and only within the loop you specified. I also tried without loops and sourcing zplug manually, same result.","files":null},{"type":3,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1487178329,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4MDA3MTg0OQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-280071849"},"message":"Can you try a more minimal `.zshrc`, like:\n\n```sh\nexport ZSH=$HOME/.dotfiles\n\ntypeset -U config_files\nconfig_files=($ZSH/**/*.zsh)\n\nfor file in ${(M)config_files:#*/path.zsh}\ndo\n  source $file\ndone\n\nfor file in ${${config_files:#*/path.zsh}:#*/completion.zsh}\ndo\n  source $file\ndone\n\nunset config_files\n```\n\nIts pretty tough for us to reproduce, because we would need the entire contents of your `$HOME/.dotfiles` to see if any of them are re-loading geometry...","files":null},{"type":3,"author":{"id":"46c24e703aaa390dae044af2bdc819cd47d046e3"},"timestamp":1490354257,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODk5NjU2NQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-288996565"},"message":"I have same issue.\nMy .zshrc:\n```\n# zgen\nsource ~/.zgen/zgen.zsh\nif ! zgen saved; then\n    zgen load frmendes/geometry\n    zgen save\nfi\n```\nWhen I open my console it's ok. First time, second time and further.\nBut if manually `source ~/.zshrc` then I got:\n```\nWarning: Plugin exec_time already registered.\nWarning: Plugin git already registered.\n```\nBut if before `source ~/.zshrc` perform `zgen reset` than it doesn't give any warning.\n`zgen reset` delete `~/.zgen/init.zsh`.\n\nMy `~/.zgen/init.zsh` (autogenerated):\n```\n# {{{\n# Generated by zgen.\n# This file will be overwritten the next time you run zgen save!\n\nZSH=/home/kreedz/.zgen/robbyrussell/oh-my-zsh-master\n\n# ### General modules\nsource \"/home/kreedz/.zgen/frmendes/geometry-master/geometry.plugin.zsh\"\n\n# ### Plugins \u0026 Completions\nfpath=(/home/kreedz/.zgen/frmendes/geometry-master ${fpath})\n\nautoload -Uz compinit \u0026\u0026 \\\n   compinit -C \n# }}}\n```\n\nAnd I noticed that ${fpath} starts to repeat (equal to the number of sourcing) the paths that mentioned in the `~/.zgen/init.zsh`. It's normal?\n\nOther plugins (zsh-users/zsh-autosuggestions, zsh-users/zsh-syntax-highlighting, oh-my-zsh plugins/{git,sudo}) works without warnings\n\nI don't know it's zgen or geometry problem. Or even my problem that I'm doing something wrong.\nBut on the main page of zgen there a nothing about doing `zgen reset` before `source ~/.zshrc`","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1490354533,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODk5NzQ0MQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-288997441"},"message":"Manually sourcing `.zshrc` does give that error because you are effectively loading geometry again. As far as I can tell, this doesn't cause any issues and you should be clear to just ignore it. The error message was intended as a warning in case of faulty configuration but it's normal to happen when you reload all your shell configs.","files":null},{"type":3,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1490361619,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4OTAyMDQ1NA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-289020454"},"message":"How would we feel about unloading then reloading a plugin, instead of warning?","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1490362113,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4OTAyMjMwNA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-289022304"},"message":"Is it worth it, though? It's the intended behaviour based on how shells work. If you put `PATH=$HOME/.bin:$PATH` in your `.zshrc` and then source it again, the `PATH` variable will contain `$HOME/.bin` twice. It doesn't clear the environment. Because of that, I'm not keen on doing it by hand. Especially since we would be adding code to handle a very specific issue which isn't really an issue and doesn't break anything. It's more of a consequence of external code (the shell) acting like it's supposed to.\n\nMaybe change the warning message? But even that, it's supposed to inform users when they do something wrong while building a custom plugin. There's not a clear way to distinguish errors while making custom plugins and a `source .zshrc`.","files":null},{"type":3,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1490400246,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4OTE3MTA3NQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-289171075"},"message":"Yeah I think as long as we are writing to stderr, it's a good idea to keep the current behaviour. The warning is helpful and harmless, made for humans.","files":null},{"type":3,"author":{"id":"d4eb9eb05c8e7e760e59ab8c578fae019321a3fc"},"timestamp":1491326090,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5MTU2OTEyOA==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-291569128"},"message":"@frmendes @jedahan I think the actionable now is to better handle error/warning messages. Currently we have writing everything to stdout, ex: https://github.com/frmendes/geometry/blob/master/lib/plugin.zsh#L30\nI'm gonna create a new issue for this.\n\nI believe we can close this for now then, @frmendes Should I?","files":null},{"type":3,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1491392037,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI5MTgzMzcyMQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-291833721"},"message":"I just created #144, to wrap up this subject and avoid any further confusion. Afterwards, yeah, let's just close it.","files":null},{"type":5,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1491422904,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50MTAzMTA2MzQ5Nw=="},"added":[],"removed":["can't reproduce"]},{"type":4,"author":{"id":"d031c473ea44f2997770f844cf5bd248db34a431"},"timestamp":1491422909,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTAzMTA2MzYyMQ=="},"status":2},{"type":3,"author":{"id":"8e062de7959f1a5dda5668a882898572798738f4"},"timestamp":1555097151,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ4MjY5NDAyOQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-482694029"},"message":"The `git` plugin stops working whenever I re-source my zshrc. Can I stop Geometry from loading again if it's already loaded?\n\n![image](https://user-images.githubusercontent.com/2355108/56061315-ee012d00-5d1d-11e9-82d1-7caac33a1368.png)","files":null},{"type":6,"author":{"id":"8e062de7959f1a5dda5668a882898572798738f4"},"timestamp":1555097151,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDIwOTMxOTMyOA=="},"target":"3295af6a31579fc30f54bc9c30ba0951243ddeb65531099136cdc235168d4aa6","message":"The `git` plugin stops working whenever I re-source my zshrc. Can I stop Geometry from loading again if it's already loaded?\n\n![image](https://user-images.githubusercontent.com/2355108/56061361-0f621900-5d1e-11e9-9e5b-deb8ee1a287f.png)\n\n(Gif: https://jmp.sh/AynbK0p)","files":null},{"type":6,"author":{"id":"8e062de7959f1a5dda5668a882898572798738f4"},"timestamp":1555097177,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDIwOTMxOTQ4OA=="},"target":"3295af6a31579fc30f54bc9c30ba0951243ddeb65531099136cdc235168d4aa6","message":"The `git` plugin stops working whenever I re-source my zshrc. Can I stop Geometry from loading again if it's already loaded?\n\n![image](https://user-images.githubusercontent.com/2355108/56061315-ee012d00-5d1d-11e9-82d1-7caac33a1368.png)\n\n(Gif: https://jmp.sh/AynbK0p)","files":null},{"type":6,"author":{"id":"8e062de7959f1a5dda5668a882898572798738f4"},"timestamp":1555097432,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDIwOTMyMTA5Nw=="},"target":"3295af6a31579fc30f54bc9c30ba0951243ddeb65531099136cdc235168d4aa6","message":"The `git` plugin stops working whenever I re-source my zshrc. Can I stop Geometry from loading again if it's already loaded?\n\n![image](https://user-images.githubusercontent.com/2355108/56061315-ee012d00-5d1d-11e9-82d1-7caac33a1368.png)\n\n(Gif: https://jmp.sh/AynbK0p)\n\nMy `.zshrc`: https://github.com/sheharyarn/dotfiles/blob/master/Zsh/zshrc.symlink","files":null},{"type":3,"author":{"id":"940aabe64f74a4490b5129922ab6d0d7b9926a38"},"timestamp":1555208044,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ4MjkxMjQ5NQ==","github-url":"https://github.com/geometry-zsh/geometry/issues/109#issuecomment-482912495"},"message":"@sheharyarn unfortunately since you are sourcing geometry from oh-my-zsh, I am not sure how to tell OMZ how to not source geometry.zsh.\n\nIn addition these are warnings that can be safely ignored. We will soon be releasing a version of geometry that will no longer have these warnings.","files":null}]}